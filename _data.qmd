```{python}
#| include: false
#| warning: false
issues, prs = gha.get_all(data, lang)

issues_open = gha.get_open(issues)
prs_open = gha.get_open(prs)

fig_issues = gha.get_summary(issues)
fig_prs = gha.get_summary(prs)

data_ml = ml.get_all(lang)
```

```{r}
#| include: false
#| warning: false
vector_tags = c("apache-arrow", py$lang)
if(py$lang == "Python"){
    append(vector_tags, c("pyarrow", "python"))
}

questions_content <- get_questions(vector_tags)
so_data <- adjust_data(questions_content)
last_so_data <- so_data %>% filter(last_activity_date > now()- months(3))
```

## Row {.tabset}

### Summary 

#### Column 

##### Row {height=20%}

```{python}
#| content: valuebox
#| title: "All issues"
dict(
  icon = "envelope",
  color = "light",
  value = len(issues)
)
```

```{python}
#| content: valuebox
#| title: "Open Issues"
dict(
  icon = "envelope-open",
  color = "light",
  value = len(issues_open)
)
```

```{python}
#| content: valuebox
#| title: "All Pull Requests"
dict(
  icon = "code-square",
  color = "light",
  value = len(prs_open)
)
```

```{r}
#| content: valuebox
#| title: "Stack Overflow Questions"
list(
  icon = "question-circle",
  color = "light",
  value = nrow(last_so_data)
)
```

##### Row {height=80%}

```{python}
#| title: Open issues by week
fig_issues.show()
```

```{python}
#| title: Open PRs by week
fig_prs.show()
```

### Issues

#### Row 
```{r}
#| title: All open issues, new contributors highlighted
dt_show_issues(py$issues_open)
```

### PRs

#### Row 

```{r}
#| title: All open PRs, new contributors highlighted
dt_show_issues(py$prs_open)
```

### Stack Overflow

#### Row 

```{r}
#| title: Unanswered questions
dt_show_unanswered_questions(so_data)
```

```{r}
#| title: Answered questions, highlighted have accepted answer
dt_show_answered_questions(so_data)
```

### Mailing List

#### Row 

```{r}
#| title: Mailing list items from the last month
dt_show_emails(py$data_ml)
```

## Row {height=1%}

Last updated: `{r} update_time`